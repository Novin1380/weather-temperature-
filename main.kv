#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import Gradient kivy_gradient.Gradient

MDScreen:
    # md_bg_color: 0.35, 0.65, 0.85, 1
    canvas.before:
        Rectangle:
            texture: Gradient.vertical( (0.55, 0.85, 0.99, 0.5), (0.35, 0.65, 0.85, 1))
            size: self.size
            pos: self.pos
    MDNavigationLayout:
        MDNavigationDrawer:
            id: nav_drawer
            radius: 0, dp(16), dp(16), 0
            drawer_type: "standard"
            theme_bg_color: "Custom"
            md_bg_color: 0.55, 0.85, 0.99, 0.7
            anchor: "left"

            MDNavigationDrawerMenu:

                MDNavigationDrawerHeader:
                    orientation: "horizontal"
                    padding: 0, 0, 0, "12dp"
                    adaptive_height: True

                    # MDLabel:
                    #     text: "Location"
                    #     theme_text_color: "Custom"
                    #     theme_line_height: "Custom"
                    #     line_height: 0
                    #     text_color: "#FFFFFF"
                    #     adaptive_height: True
                    #     padding_x: "16dp"
                    #     font_style: "Title"
                    #     role: "large"
                    MDTextField:
                        id: city_name
                        mode: "filled"
                        max_height: "50dp"
                        height: "5dp"
                        multiline: False
                        theme_text_color: "Custom"
                        text_color_normal: "#D3D3D3"
                        text_color_focus: "#FFFFFF"
                        theme_line_color: "Custom"
                        line_color_normal: "#D3D3D3"
                        line_color_focus: "#FFFFFF"
                        theme_bg_color: "Custom"
                        fill_color_normal: 0, 1, 0, 0
                        fill_color_focus: 0, 1, 0, 0

                        MDTextFieldLeadingIcon:
                            icon: "magnify"
                            theme_icon_color: "Custom"
                            icon_color_normal: "#FFFFFF"
                            icon_color_focus: "#FFFFFF"

            
                    MDIconButton:
                        icon: "magnify"
                        style: "standard"
                        theme_icon_color:"Custom"
                        icon_color: "#FFFFFF"
                        on_release: app.search_weather()


                    # MDIconButton:
                    #     icon: "cog-outline"
                    #     style: "standard"
                    #     theme_icon_color:"Custom"
                    #     icon_color: "#FFFFFF"


                MDNavigationDrawerItem:
                    height: "35dp"
                    theme_bg_color: "Custom"
                    md_bg_color: 0.55, 0.85, 0.99, 0.1
                    radius: dp(4), dp(4), dp(4), dp(4)
                    focus_behavior: False
                    _no_ripple_effect: True
                    spacing: "4dp"

                    MDNavigationDrawerItemLeadingIcon:
                        icon: "map-marker-account"
                    MDNavigationDrawerItemText:
                        text: "Inbox"
                    MDIcon:
                        icon: "weather-sunny"

                    MDNavigationDrawerItemTrailingText:
                        text: "24"
                    



                
                MDButton:
                    style: "tonal"
                    theme_width: "Custom"
                    height: "35dp"
                    size_hint_x: .2
                    theme_bg_color: "Custom"
                    md_bg_color: 0.45, 0.55, 0.89, 1
                    

                    MDButtonIcon:
                        x: text.x - (self.width + dp(10))
                        icon: "map-marker-radius"

                    MDButtonText:
                        id: text
                        text: "Manage locations"
                        pos_hint: {"center_x": .5, "center_y": .5}
                    
                MDNavigationDrawerDivider:
                MDNavigationDrawerDivider:

                MDButton:
                    style: "tonal"
                    theme_width: "Custom"
                    height: "35dp"
                    size_hint_x: .2
                    theme_bg_color: "Custom"
                    md_bg_color: 0.45, 0.45, 0.79, 1
                    on_release: app.show()
                    

                    MDButtonIcon:
                        x: text1.x - (self.width + dp(10))
                        icon: "information"

                    MDButtonText:
                        id: text1
                        text: "information"
                        pos_hint: {"center_x": .5, "center_y": .5}
                        

                    



        MDScreenManager:
            MDScreen:
                MDTopAppBar:
                    id: TopAppBarr
                    theme_bg_color: "Custom"
                    md_bg_color: 0.35, 0.65, 0.85, 1
                    type: "small"
                    pos_hint: {"top": 1}
                    MDTopAppBarLeadingButtonContainer:
                        MDActionTopAppBarButton:
                            icon: "menu"
                            theme_icon_color:"Custom"
                            icon_color: "#FFFFFF"
                            on_release: nav_drawer.set_state("toggle")
                        
                    MDTopAppBarTitle:
                        id:TopApp
                        text: "Weather App"
                        pos_hint: {"center_x": .05}
                        text_color:"#FFFFFF"
                        font_style:"Headline"
                        role:"small"
                        bold:True
                    # MDIcon:
                    #     icon: "map-marker"
                    #     padding_x: .5
                    #     pos_hint: {"center_x": .1, "center_y":0.5}
                    #     theme_icon_color:"Custom"
                    #     icon_color: "#FFFFFF"
                
                MDGridLayout:
                    cols:1
                    spacing:10
                    padding:[10,10]
                    # size_hint_min_y
                    # orientation:'vertical'
                    # pos_y: self.height - root.ids.TopAppBarr.height
                    pos_hint: {"center_x":0.5 , "center_y":0.7}

                    MDBoxLayout:
                        height:dp(100)
                        orientation:"horizontal"
                        Label:
                            text:"33°c"
                            font_size: '45dp'
                        FitImage:
                            source:"files\output-onlinegiftools.gif"
                            pos_hint: {"center_x":0.5, "center_y":0.53}
                            height:dp(50)
                            anim_delay:0.25
                            anim_loop: 1
                            allow_stretch: True
                            keep_aspect: False
                    RelativeLayout:
                        Label:
                            id: sunny
                            text:"hi"
                            pos_hint: {"center_x":0.1, "center_y":0.5}

                    # MDBoxLayout:
                    #     orientation:"horizontal"
                    #     Label:
                    #         text:"33°c"
                    #         font_size: '45dp'



                    
                    
                # MDScrollView:
                #     do_scroll_x: False
                #     bar_width: "4dp"
                #     size:(Window.width, 1) 
                #     always_overscroll:True
                #     canvas.before:
                #         Rectangle:
                #             texture: Gradient.vertical( (0.55, 0.85, 0.99, 0.5), (0.35, 0.65, 0.85, 1))
                #             size: self.size
                #             pos: self.pos
                #     MDBoxLayout:
                #         id: main_scroll
                #         orientation: "vertical"
                #         adaptive_height: True
                #         MDLabel:
                #             theme_font_size: "Custom"
                #             text: "OS Info"
                #             font_size: "15sp"
                #             adaptive_height: True
                #             padding: "10dp", "20dp", 0, 0


                    
                    
